<Window x:Class="MindmapApp.Views.ForgotPasswordWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Khôi phục mật khẩu"
        WindowStartupLocation="CenterOwner"
        Width="520"
        Height="640"
        ResizeMode="NoResize"
        Background="Transparent"
        AllowsTransparency="True">
    <Grid>
        <Grid.Effect>
            <DropShadowEffect BlurRadius="28" Opacity="0.22" ShadowDepth="0" />
        </Grid.Effect>

        <Border Background="{StaticResource SurfaceBrush}" CornerRadius="24" Padding="32">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="Quên mật khẩu" FontSize="26" FontWeight="Bold" Foreground="#333"/>
                    <TextBlock Text="Nhập email của bạn để nhận OTP" Foreground="#FF7A869A" Margin="0,4,0,20" />
                    <StackPanel Margin="0,0,0,0">
                        <TextBlock Text="Email" FontWeight="SemiBold" Foreground="#333" Margin="0,0,0,4" />
                        <TextBox Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}" Height="34" Padding="8" BorderBrush="#D0D5DD" BorderThickness="1" Background="#FAFBFC"/>
                    </StackPanel>
                    <Button Content="Gửi OTP" Margin="0,18,0,0" Click="SendOtpButton_OnClick"  Height="36"/>
                    <Separator Margin="0,26,0,16" />
                    <TextBlock Text="Nhập mã OTP" FontWeight="SemiBold" Foreground="#333" Margin="0,0,0,4" />
                    <TextBox Text="{Binding Otp, UpdateSourceTrigger=PropertyChanged}" Margin="0,8,0,0" Height="34" Padding="8" BorderBrush="#D0D5DD" BorderThickness="1" Background="#FAFBFC"/>
                    <StackPanel Margin="0,16,0,0">
                        <TextBlock Text="Mật khẩu mới" FontWeight="SemiBold" Foreground="#333" Margin="0,0,0,4" />
                        <PasswordBox x:Name="NewPasswordBox" Margin="0,8,0,0" Height="34" Padding="8" BorderBrush="#D0D5DD" BorderThickness="1" Background="#FAFBFC"/>
                    </StackPanel>
                    <StackPanel Margin="0,12,0,0">
                        <TextBlock Text="Xác nhận mật khẩu" FontWeight="SemiBold" Foreground="#333" Margin="0,0,0,4" />
                        <PasswordBox x:Name="ConfirmNewPasswordBox" Margin="0,8,0,0" Height="34" Padding="8" BorderBrush="#D0D5DD" BorderThickness="1" Background="#FAFBFC" />
                    </StackPanel>
                    <TextBlock Text="{Binding ErrorMessage}" Foreground="{StaticResource DangerBrush}" Margin="0,16,0,0" TextWrapping="Wrap" />
                    <TextBlock Text="{Binding SuccessMessage}" Foreground="{StaticResource PrimaryBrush}" Margin="0,4,0,0" TextWrapping="Wrap" />
                    <Button Content="Đặt lại mật khẩu" Margin="0,20,0,0" Click="ResetPasswordButton_OnClick" BorderThickness="0" Height="38"/>
                    <Button Content="Đóng" Margin="0,12,0,20" Background="Transparent" Foreground="{StaticResource PrimaryBrush}" BorderThickness="0" Click="CloseButton_OnClick" />
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>